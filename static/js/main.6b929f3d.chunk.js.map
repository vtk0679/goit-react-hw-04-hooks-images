{"version":3,"sources":["components/ImageGallery/ImageGalleryItem/ImageGalleryItem.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Loader/Loader.module.css","components/SearchBar/SearchBar.module.css","components/SearchBar/SearchBar.jsx","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/Loader/Loader.jsx","icon-close.svg","components/Modal/Modal.jsx","App.js","services/api.js","index.js","components/Modal/Modal.module.css"],"names":["module","exports","SearchBar","onSubmit","useState","searchQuery","setSearchQuery","className","s","SearchForm","e","preventDefault","trim","toLowerCase","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","target","value","ImageGalleryItem","image","onItemClick","id","webformatURL","largeImageURL","onClick","src","alt","ImageGalleryItemImage","ImageGallery","images","map","i","Button","onLoadMore","loader","color","height","width","timeout","_path","_path2","_excluded","_extends","Object","assign","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgIconClose","_ref","svgRef","title","titleId","props","xmlns","viewBox","ref","d","fill","ForwardRef","Modal","onCloseModal","modalRoot","useEffect","handleKeyDown","code","window","addEventListener","removeEventListener","createPortal","Overlay","currentTarget","closeModal","IconClose","document","querySelector","App","setImages","loading","setLoading","page","setPage","bigImg","setBigImg","axios","get","then","resp","data","hits","toast","catch","error","getImages","newImages","oldImages","console","log","finally","scrollTo","top","documentElement","scrollHeight","behavior","newQuery","url","prevPage","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.6b929f3d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3PncS\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__RyCje\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2BYys\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__2mVST\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__35TxS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SearchBar\":\"SearchBar_SearchBar__2z8pp\",\"SearchForm\":\"SearchBar_SearchForm__117KR\",\"SearchFormButton\":\"SearchBar_SearchFormButton__nLNUq\",\"SearchFormButtonLabel\":\"SearchBar_SearchFormButtonLabel__3H1Pz\",\"SearchFormInput\":\"SearchBar_SearchFormInput__19xFI\"};","import s from \"./SearchBar.module.css\";\nimport PropTypes from \"prop-types\";\nimport { useState } from \"react\";\n\nexport default function SearchBar({ onSubmit }) {\n  const [searchQuery, setSearchQuery] = useState(\"\");\n\n  const onSubmitLocal = (e) => {\n    e.preventDefault();\n    if (searchQuery.trim() === \"\") {\n      return;\n    }\n    onSubmit(searchQuery.toLowerCase());\n  };\n\n  return (\n    <>\n      <header className={s.SearchBar}>\n        <form className={s.SearchForm} onSubmit={onSubmitLocal}>\n          <button type=\"submit\" className={s.SearchFormButton}>\n            <span className={s.SearchFormButtonLabel}>Search</span>\n          </button>\n\n          <input\n            className={s.SearchFormInput}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            onChange={(e) => setSearchQuery(e.target.value)}\n          />\n        </form>\n      </header>\n    </>\n  );\n}\n\nSearchBar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n","import PropTypes from \"prop-types\";\n\nimport s from \"./ImageGalleryItem.module.css\";\n\nexport default function ImageGalleryItem({ image, onItemClick }) {\n  const { id, webformatURL, largeImageURL } = image;\n  return (\n    <li className={s.ImageGalleryItem} key={id}>\n      <img\n        onClick={() => {\n          onItemClick(largeImageURL);\n        }}\n        src={webformatURL}\n        alt=\"Gallery item\"\n        className={s.ImageGalleryItemImage}\n      />\n    </li>\n  );\n}\n\nImageGalleryItem.propTypes = {\n  images: PropTypes.array,\n  onItemClick: PropTypes.func.isRequired,\n};\n","import PropTypes from \"prop-types\";\n\nimport s from \"./ImageGallery.module.css\";\nimport ImageGalleryItem from \"./ImageGalleryItem\";\n\nexport default function ImageGallery({ images, onItemClick }) {\n  return (\n    <>\n      <ul className={s.ImageGallery}>\n        {images.map((image, i) => {\n          return (\n            <ImageGalleryItem\n              image={image}\n              key={image.id + i}\n              onItemClick={onItemClick}\n            />\n          );\n        })}\n      </ul>\n    </>\n  );\n}\n\nImageGallery.propTypes = {\n  images: PropTypes.array,\n  onItemClick: PropTypes.func.isRequired,\n};\n","import PropTypes from \"prop-types\";\n\nimport s from \"./Button.module.css\";\n\nexport default function Button({ onLoadMore }) {\n  return (\n    <button className={s.Button} type=\"button\" onClick={() => onLoadMore()}>\n      Load more\n    </button>\n  );\n}\n\nButton.propTypes = {\n  onLoadMore: PropTypes.func.isRequired,\n};\n","import Loader from \"react-loader-spinner\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport s from \"./Loader.module.css\";\n\nexport default function loader() {\n  return (\n    <Loader\n      className={s.loader}\n      type=\"ThreeDots\"\n      color=\"#00BFFF\"\n      height={80}\n      width={80}\n      timeout={3000}\n    />\n  );\n}\n","var _path, _path2;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgIconClose(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0 0h24v24H0z\",\n    fill: \"none\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIconClose);\nexport default __webpack_public_path__ + \"static/media/icon-close.30051ce6.svg\";\nexport { ForwardRef as ReactComponent };","import PropTypes from \"prop-types\";\nimport { createPortal } from \"react-dom\";\nimport { useEffect } from \"react\";\n\nimport s from \"./Modal.module.css\";\nimport { ReactComponent as IconClose } from \"../../icon-close.svg\";\n\nexport default function Modal({ src, onCloseModal, modalRoot }) {\n  useEffect(() => {\n    const handleKeyDown = (e) => {\n      if (e.code === \"Escape\") {\n        onCloseModal();\n      }\n    };\n    window.addEventListener(\"keydown\", handleKeyDown);\n    return () => {\n      window.removeEventListener(\"keydown\", handleKeyDown);\n    };\n  }, [onCloseModal]);\n\n  return createPortal(\n    <>\n      <div\n        className={s.Overlay}\n        onClick={(e) => {\n          if (e.currentTarget === e.target) {\n            onCloseModal();\n          }\n        }}\n      >\n        <div className={s.Modal}>\n          <img src={src} alt=\"\" width=\"1200px\" height=\"800px\" />\n          <button\n            className={s.closeModal}\n            type=\"button\"\n            onClick={() => onCloseModal()}\n          >\n            <IconClose className={s.IconClose} />\n          </button>\n        </div>\n      </div>\n    </>,\n    modalRoot\n  );\n}\n\nModal.propTypes = {\n  src: PropTypes.string.isRequired,\n  onCloseModal: PropTypes.func.isRequired,\n};\n","import { useState, useEffect } from \"react\";\nimport { ToastContainer } from \"react-toastify\";\n\nimport \"react-toastify/dist/ReactToastify.css\";\nimport \"./App.css\";\n\nimport SearchBar from \"./components/SearchBar\";\nimport ImageGallery from \"./components/ImageGallery\";\nimport Button from \"./components/Button/Button\";\nimport Loader from \"./components/Loader\";\nimport Modal from \"./components/Modal/Modal\";\nimport getImages from \"./services/api\";\n\nconst modalRoot = document.querySelector(\"#modal-root\");\n\nexport default function App() {\n  const [images, setImages] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [page, setPage] = useState(1);\n  const [bigImg, setBigImg] = useState(null);\n\n  useEffect(() => {\n    if (searchQuery === \"\") return;\n    setLoading(true);\n    getImages(searchQuery, page)\n      .then((newImages) => {\n        if (newImages?.length)\n          setImages((oldImages) => [...oldImages, ...newImages]);\n      })\n      .catch((e) => console.log(e))\n      .finally(() => setLoading(false));\n  }, [searchQuery, page]);\n\n  useEffect(() => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: \"smooth\",\n    });\n  }, [images]);\n\n  const onSubmit = (newQuery) => {\n    if (searchQuery !== newQuery) {\n      setSearchQuery(newQuery);\n      setImages([]);\n      setPage(1);\n    }\n  };\n\n  const onLoadMore = () => {\n    setPage((prevPage) => prevPage + 1);\n  };\n\n  return (\n    <>\n      <SearchBar onSubmit={onSubmit} />\n      <ImageGallery images={images} onItemClick={(url) => setBigImg(url)} />\n      {loading && <Loader />}\n      {images.length > 0 && <Button onLoadMore={onLoadMore} />}\n      <ToastContainer autoClose={3000} />\n      {bigImg && (\n        <Modal\n          src={bigImg}\n          onCloseModal={() => setBigImg(null)}\n          modalRoot={modalRoot}\n        />\n      )}\n    </>\n  );\n}\n","import axios from \"axios\";\nimport { toast } from \"react-toastify\";\n\nexport default function getImages(searchQuery, page) {\n  return axios\n    .get(\n      `https://pixabay.com/api/?q=${searchQuery}&page=${page}&key=22945587-13dcce98a35cac559e6949163&image_type=photo&orientation=horizontal&per_page=12`\n    )\n    .then((resp) => {\n      const data = resp.data.hits;\n      if (data?.length === 0) {\n        toast(\"Уточните критерии поиска!\");\n        return;\n      }\n      return data;\n    })\n    .catch((error) => {\n      toast(error);\n    });\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__1LuRk\",\"Modal\":\"Modal_Modal__31Pib\",\"closeModal\":\"Modal_closeModal__2qM4X\",\"IconClose\":\"Modal_IconClose__bCXHa\"};"],"sourceRoot":""}