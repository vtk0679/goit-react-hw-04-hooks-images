(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{14:function(e,t,n){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__3PncS",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__RyCje"}},24:function(e,t,n){e.exports={ImageGallery:"ImageGallery_ImageGallery__2BYys"}},25:function(e,t,n){e.exports={Button:"Button_Button__2mVST"}},27:function(e,t,n){e.exports={loader:"Loader_loader__35TxS"}},33:function(e,t,n){},35:function(e,t,n){},6:function(e,t,n){e.exports={SearchBar:"SearchBar_SearchBar__2z8pp",SearchForm:"SearchBar_SearchForm__117KR",SearchFormButton:"SearchBar_SearchFormButton__nLNUq",SearchFormButtonLabel:"SearchBar_SearchFormButtonLabel__3H1Pz",SearchFormInput:"SearchBar_SearchFormInput__19xFI"}},76:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(5),c=n.n(o),l=(n(33),n(15)),i=n(4),u=n(8),s=(n(34),n(35),n(6)),m=n.n(s),j=n(1);function h(e){var t=e.onSubmit,n=Object(a.useState)(""),r=Object(i.a)(n,2),o=r[0],c=r[1];return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("header",{className:m.a.SearchBar,children:Object(j.jsxs)("form",{className:m.a.SearchForm,onSubmit:function(e){e.preventDefault(),""!==o.trim()&&t(o.toLowerCase())},children:[Object(j.jsx)("button",{type:"submit",className:m.a.SearchFormButton,children:Object(j.jsx)("span",{className:m.a.SearchFormButtonLabel,children:"Search"})}),Object(j.jsx)("input",{className:m.a.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",onChange:function(e){return c(e.target.value)}})]})})})}var b=n(24),d=n.n(b),f=n(14),O=n.n(f);function g(e){var t=e.image,n=e.onItemClick,a=t.id,r=t.webformatURL,o=t.largeImageURL;return Object(j.jsx)("li",{className:O.a.ImageGalleryItem,children:Object(j.jsx)("img",{onClick:function(){n(o)},src:r,alt:"Gallery item",className:O.a.ImageGalleryItemImage})},a)}function p(e){var t=e.images,n=e.onItemClick;return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("ul",{className:d.a.ImageGallery,children:t.map((function(e,t){return Object(j.jsx)(g,{image:e,onItemClick:n},e.id+t)}))})})}var x=n(25),_=n.n(x);function v(e){var t=e.onLoadMore;return Object(j.jsx)("button",{className:_.a.Button,type:"button",onClick:function(){return t()},children:"Load more"})}var y=n(26),I=n.n(y),S=(n(57),n(27)),w=n.n(S);function B(){return Object(j.jsx)(I.a,{className:w.a.loader,type:"ThreeDots",color:"#00BFFF",height:80,width:80,timeout:3e3})}var F,C,M=n(9),k=n.n(M),L=["title","titleId"];function N(){return N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},N.apply(this,arguments)}function E(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function G(e,t){var n=e.title,r=e.titleId,o=E(e,L);return a.createElement("svg",N({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",ref:t,"aria-labelledby":r},o),n?a.createElement("title",{id:r},n):null,F||(F=a.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),C||(C=a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})))}var R=a.forwardRef(G);n.p;function P(e){var t=e.src,n=e.onCloseModal,r=e.modalRoot;return Object(a.useEffect)((function(){var e=function(e){"Escape"===e.code&&n()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[n]),Object(o.createPortal)(Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("div",{className:k.a.Overlay,onClick:function(e){e.currentTarget===e.target&&n()},children:Object(j.jsxs)("div",{className:k.a.Modal,children:[Object(j.jsx)("img",{src:t,alt:"",width:"1200px",height:"800px"}),Object(j.jsx)("button",{className:k.a.closeModal,type:"button",onClick:function(){return n()},children:Object(j.jsx)(R,{className:k.a.IconClose})})]})})}),r)}var z=n(28),T=n.n(z);var q=document.querySelector("#modal-root");function H(){var e=Object(a.useState)([]),t=Object(i.a)(e,2),n=t[0],r=t[1],o=Object(a.useState)(!1),c=Object(i.a)(o,2),s=c[0],m=c[1],b=Object(a.useState)(""),d=Object(i.a)(b,2),f=d[0],O=d[1],g=Object(a.useState)(1),x=Object(i.a)(g,2),_=x[0],y=x[1],I=Object(a.useState)(null),S=Object(i.a)(I,2),w=S[0],F=S[1];Object(a.useEffect)((function(){""!==f&&(m(!0),function(e,t){return T.a.get("https://pixabay.com/api/?q=".concat(e,"&page=").concat(t,"&key=22945587-13dcce98a35cac559e6949163&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){var t=e.data.hits;if(0!==(null===t||void 0===t?void 0:t.length))return t;Object(u.b)("\u0423\u0442\u043e\u0447\u043d\u0438\u0442\u0435 \u043a\u0440\u0438\u0442\u0435\u0440\u0438\u0438 \u043f\u043e\u0438\u0441\u043a\u0430!")})).catch((function(e){Object(u.b)(e)}))}(f,_).then((function(e){(null===e||void 0===e?void 0:e.length)&&r((function(t){return[].concat(Object(l.a)(t),Object(l.a)(e))}))})).catch((function(e){return console.log(e)})).finally((function(){return m(!1)})))}),[f,_]),Object(a.useEffect)((function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}),[n]);return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(h,{onSubmit:function(e){f!==e&&(O(e),r([]),y(1))}}),Object(j.jsx)(p,{images:n,onItemClick:function(e){return F(e)}}),s&&Object(j.jsx)(B,{}),n.length>0&&Object(j.jsx)(v,{onLoadMore:function(){y((function(e){return e+1}))}}),Object(j.jsx)(u.a,{autoClose:3e3}),w&&Object(j.jsx)(P,{src:w,onCloseModal:function(){return F(null)},modalRoot:q})]})}c.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(H,{})}),document.getElementById("root"))},9:function(e,t,n){e.exports={Overlay:"Modal_Overlay__1LuRk",Modal:"Modal_Modal__31Pib",closeModal:"Modal_closeModal__2qM4X",IconClose:"Modal_IconClose__bCXHa"}}},[[76,1,2]]]);
//# sourceMappingURL=main.6b929f3d.chunk.js.map